---
title: "REST API"
description: "使用 MemMachine REST API 的示例"
icon: "bed"
---

# REST API 示例


 ## Hello World：MemMachine RESTful API 指南

本指南将通过 `curl` 命令带你快速上手 MemMachine 的 RESTful API。你也可以在我们的 [快速入门指南](https://memmachine.ai/docs/getting-started/quick-start-guide) 中找到同样内容。

### 前置条件

首先确保 FastAPI 应用已经运行。在终端中进入包含 `app.py` 的目录，执行以下命令并确认服务器已开始监听请求。

```
uvicorn app:app --reload
```
<Steps>
<Step title="获取所有会话">

最简单的起点是查看当前会话。此 `GET` 请求无需附带数据，因为尚未创建会话，所以通常会看到空列表。

```
curl http://127.0.0.1:8080/v1/sessions
```
</Step>
<Step title="新增记忆片段">

接下来创建第一条记忆片段。`POST /v1/memories` 端点需要一个 JSON 请求体，包含会话信息、生产者、接收者和记忆内容。

**Command:**

```
curl -X POST "http://127.0.0.1:8080/v1/memories" \
-H "Content-Type: application/json" \
-d '{
  "session": {
    "group_id": "test_group",
    "agent_id": ["test_agent"],
    "user_id": ["test_user"],
    "session_id": "session_123"
  },
  "producer": "test_user",
  "produced_for": "test_agent",
  "episode_content": "This is a simple test memory.",
  "episode_type": "message",
  "metadata": {}
}'
```

**预期结果：**

你会收到空的 `200 OK` 响应，表示记忆已成功写入。
</Step>
<Step title="检索记忆片段">

写入记忆后，尝试检索。`POST /v1/memories/search` 同样需要 JSON 请求体，用于指定查询条件和会话信息。

**Command:**

```
curl -X POST "http://127.0.0.1:8080/v1/memories/search" \
-H "Content-Type: application/json" \
-d '{
  "session": {
    "group_id": "test_group",
    "agent_id": ["test_agent"],
    "user_id": ["test_user"],
    "session_id": "session_123"
  },
  "query": "simple test memory",
  "filter": {},
  "limit": 5
}'
```

**预期结果：**

你会得到 `200 OK` 响应，JSON 结果中包含刚刚创建的记忆片段，确认检索成功。
</Step>
<Step title="删除会话数据">

测试完成后，可通过 `DELETE /v1/memories` 清理会话数据，同样需要 JSON 请求体来指定目标会话。

**Command:**

```
curl -X DELETE "http://127.0.0.1:8080/v1/memories" \
-H "Content-Type: application/json" \
-d '{
  "session": {
    "group_id": "test_group",
    "agent_id": ["test_agent"],
    "user_id": ["test_user"],
    "session_id": "session_123"
  }
}'
```
</Step>
</Steps>